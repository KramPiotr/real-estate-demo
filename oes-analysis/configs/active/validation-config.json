{
  "transcripts_directory": "validation-pipeline-formatted",
  "output_directory": "partial_results/validation-pipeline",
  "nodes": [
    {
      "name": "feature_assessment",
      "inputs": [
        "transcript"
      ],
      "models": [
        {
          "provider": "gemini",
          "model": "gemini-2.5-flash",
          "mini": false,
          "max_tokens": 20000,
          "temperature": 0.3
        },
        {
          "provider": "gemini",
          "model": "gemini-2.5-flash",
          "mini": false,
          "max_tokens": 20000,
          "temperature": 0.3
        },
        {
          "provider": "gemini",
          "model": "gemini-2.5-flash",
          "mini": false,
          "max_tokens": 20000,
          "temperature": 0.3
        }
      ],
      "response_format": {
        "type": "json_schema",
        "json_schema": {
          "name": "FeatureAssessmentResponse",
          "strict": true,
          "schema": {
            "type": "object",
            "properties": {
              "q1": {
                "type": "string",
                "enum": ["Yes", "Partially", "No", "Unsure"],
                "description": "Is the feature present in the transcript?"
              },
              "q2": {
                "type": "integer",
                "minimum": 1,
                "maximum": 5,
                "description": "Confidence score 1-5"
              },
              "q3": {
                "type": "string",
                "description": "Supporting evidence from transcript"
              },
              "thoughts_stage1": {
                "type": "string",
                "description": "Internal reasoning and analysis"
              }
            },
            "required": ["q1", "q2", "q3", "thoughts_stage1"],
            "additionalProperties": false
          }
        }
      }
    },
    {
      "name": "evidence_quality",
      "inputs": [
        "transcript",
        "feature_assessment"
      ],
      "models": [
        {
          "provider": "gemini",
          "model": "gemini-2.5-flash",
          "mini": false,
          "max_tokens": 20000,
          "temperature": 0.3
        }
      ],
      "response_format": {
        "type": "json_schema",
        "json_schema": {
          "name": "EvidenceQualityResponse",
          "strict": true,
          "schema": {
            "type": "object",
            "properties": {
              "q4": {
                "type": "string",
                "enum": ["Highly relevant", "Somewhat relevant", "Not relevant"],
                "description": "Relevance of AI's evidence"
              },
              "q5": {
                "type": "integer",
                "minimum": 1,
                "maximum": 5,
                "description": "Quality rating 1-5"
              },
              "q6": {
                "type": "string",
                "description": "Assessment of justification quality"
              },
              "detailed_assessment": {
                "type": "object",
                "properties": {
                  "strengths": {
                    "type": "array",
                    "items": {"type": "string"}
                  },
                  "weaknesses": {
                    "type": "array",
                    "items": {"type": "string"}
                  }
                },
                "required": ["strengths", "weaknesses"],
                "additionalProperties": false
              },
              "thoughts_stage2": {
                "type": "string",
                "description": "Internal reasoning and analysis"
              }
            },
            "required": ["q4", "q5", "q6", "detailed_assessment", "thoughts_stage2"],
            "additionalProperties": false
          }
        }
      }
    },
    {
      "name": "taxonomy_advisor",
      "inputs": [
        "transcript",
        "feature_assessment",
        "evidence_quality"
      ],
      "models": [
        {
          "provider": "gemini",
          "model": "gemini-2.5-flash",
          "mini": false,
          "max_tokens": 20000,
          "temperature": 0.3
        }
      ],
      "response_format": {
        "type": "json_schema",
        "json_schema": {
          "name": "TaxonomyAdvisorResponse",
          "strict": true,
          "schema": {
            "type": "object",
            "properties": {
              "agreement_analysis": {
                "type": "object",
                "properties": {
                  "agreement_level": {
                    "type": "string",
                    "enum": ["Full agreement", "Partial agreement", "Disagreement"]
                  },
                  "details": {
                    "type": "string"
                  }
                },
                "required": ["agreement_level", "details"],
                "additionalProperties": false
              },
              "root_cause_analysis": {
                "type": "object",
                "properties": {
                  "primary_cause": {
                    "type": "string"
                  },
                  "contributing_factors": {
                    "type": "array",
                    "items": {"type": "string"}
                  }
                },
                "required": ["primary_cause", "contributing_factors"],
                "additionalProperties": false
              },
              "taxonomy_improvement_suggestions": {
                "type": "object",
                "properties": {
                  "suggested_changes": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "change_type": {
                          "type": "string"
                        },
                        "description": {
                          "type": "string"
                        },
                        "expected_impact": {
                          "type": "string"
                        }
                      },
                      "required": ["change_type", "description", "expected_impact"],
                      "additionalProperties": false
                    }
                  }
                },
                "required": ["suggested_changes"],
                "additionalProperties": false
              },
              "thoughts_comprehensive": {
                "type": "string",
                "description": "Comprehensive reasoning and analysis"
              }
            },
            "required": ["agreement_analysis", "root_cause_analysis", "taxonomy_improvement_suggestions", "thoughts_comprehensive"],
            "additionalProperties": false
          }
        }
      }
    }
  ]
}
